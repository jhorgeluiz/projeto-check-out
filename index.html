<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDV</title>
    <link rel="stylesheet" href="estilo/style.css">
    
</head>
<body>
    <main>
        <header>
            <button class="button">
                <span class="X"></span>
                <span class="Y"></span>
            </button>
        </header>
        <nav class="cabecalho" id="">
            <input type="text" name="" id="desctitulo" disabled>
        </nav>
        <section>
            <aside class="logo">
            <img src="estilo/carrinho.png" alt="">
            </aside>
        
            <div class="containermeio">
                <p>Código</p>
                <input class="codigo" type="text" id="codigo"  oninput="cursor_para_quant()">
                <p>Quantidade</p>
                <input class="quantidade" type="text" id="quantidade" value="1" onkeypress="calculartotal(event)">
                <p>Preço Unitário</p>
                <input class="precouni" type="text" step="0.01" id="preco_uni" value="5.30" readonly>
                <p>Preço Total</p>
                <input class="precototal" type="text" step="0.01" id="preco_total" readonly>
            </div>
        
            <textarea class="cupom"  id="cupom" rows="2" readonly disabled>
                            
            </textarea>
        </section>

        <footer>
            <div>
                <p class="pfooter">F12 - Menu Fiscal</p>
                <div class="venda" type="text" name="" id="menufiscal"></div>
            </div>
            <div>
                <p class="pfooter">Subtotal</p>
                <div class="subtotal" id="subtotal">R$ 0,00</div>
            </div>
        </footer>
    </main>

    <script>
        
        function cursor_para_quant() {
           let quantidadeField = document.getElementById('quantidade')
           quantidadeField.focus()
           quantidadeField.select()
        } 

        document.getElementById('codigo').addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                document.getElementById('quantidade').focus()
                document.getElementById('quantidade').select()
            }
        })

        document.getElementById('quantidade').addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                document.getElementById('codigo').focus()
                document.getElementById('codigo').select()
            }
        })

        function calculartotal(event) {
            if (event.key === 'Enter') {
                event.preventDefault()
            }

            const a = 'ARROZ BRANCO NAMORADO 1KG'
            const b = 'CAFE KIMIMO SANTA CLARA 1KG'
            const quantidade = parseFloat(document.getElementById('quantidade').value)
            const preco_uni = parseFloat(document.getElementById('preco_uni').value)
            const preco_total = quantidade * preco_uni
            
            document.getElementById('preco_total').value = preco_total.toFixed(2)
            document.getElementById('subtotal').innerText = `R$ ${preco_total.toFixed(2)}`
            document.getElementById('desctitulo').value = b
            document.getElementById('cupom').value = `01 8959 ARROZ BRANCO NAMORADO 1KG \n ${quantidade}UN X ${preco_uni.toFixed(2)} total: R$ ${preco_total.toFixed(2)}` 
        }

        document.addEventListener('keydown', function(event) {
            let codigoField = document.getElementById('codigo')
            let menufiscal = document.getElementById('menufiscal')
            if (event.keyCode === 65) {
                event.preventDefault()
                codigoField.focus()
                menufiscal.innerHTML = `Venda Aberta!`
            }
        })
        
        document.addEventListener('keydown', function(event) {
            let menufiscal = document.getElementById('menufiscal')
            if (event.keyCode === 70) {
                let  codigo = document.getElementById('codigo').value = ''
                let  quant = document.getElementById('quantidade').value = ''
                let  preuni = document.getElementById('preco_uni').value = ''
                let pretotal = document.getElementById('preco_total').value = ''
                let subtotal = document.getElementById('subtotal')
                let desctitu = document.getElementById('desctitulo').value = ''
                let cup = document.getElementById('cupom').value = ''

                menufiscal.innerHTML = `Venda Finalizada!`
                quant.innerHTML = ''
                preuni.innerHTML = ''
                pretotal.innerHTML = ''
                subtotal.innerHTML = ''
                desctitu.innerHTML = ''
                cup.innerHTML = ''
            }
        })

        
            
        
    </script>
</body>
</html>